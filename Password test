#include <iostream>
#include <string>
using namespace std;
#include <vector>

class User;
class Librarian;
class Admin;
void addUser();
void UserMainMenu(User* user);
void AdminMainMenu(Admin* admin);
void LibrarianMainMenu(Librarian* librarian);
void loginMenu();
void addBook();
void BrowseBooksMenu(User* user); //PROGRESS
void ViewOwnBooksMenu(User* user);
void ChangeBooksMenu();
void ReservationsMenu();//NOT STARTED
void ViewReport();//NOT STARTED
void ManageUserAccountsMenu();
void ChangeSystemLimitationsMenu();//NOT STARTED
void usernameLogin();
void removeBook(); //NOT STARTED
void removeUser();//NOT STARTED
void LibrarianLoginMenu();
void AdminLoginMenu();
void typeMenu();

class Book {


public:
    string bookName;
    int bookID;
    string bookAuthor;
    bool borrowed = false;
    bool reserved = false;

    void setbookID(int amount)
    {
        bookID = amount;
    }

    void setbookName(string value)
    {
        bookName = value;
    }

    void setbookAuthor(string value)
    {
        bookAuthor = value;
    }

    int getbookID()
    {
        return bookID;
    }

    string getbookName()
    {
        return bookName;
    }

    string getbookAuthor()
    {
        return bookAuthor;
    }
    
    bool getbookBorrowed()
    {
       return borrowed;
    }
    bool getbookReserved()
    {
        return reserved;
    }
    
    
    


    Book(int ID, string name, string author, bool borrowed, bool reserved) {
        bookName = name;
        bookID = ID;
        bookAuthor = author;
        this->borrowed = borrowed;
        this->reserved = reserved;
    };
};
class User {//ORGNAISE
public:
    string userName;
    int userNumber;
    int booksBorrowed;
    bool booksReserved;
    vector<Book*>ownBook;//store borroed books in here

    void setUserNumber(int amount)
    {
        userNumber = amount;
    }

    void setUserName(string value)
    {
        userName = value;
    }

    void setBooksBorrowed(int value)
    {
        booksBorrowed = value;
    }

    void setBooksReserved(bool value)
    {
        booksReserved = value;
    }


    int getUserNumber()
    {
        return userNumber;
    }

    string getUserName()
    {
        return userName;
    }

    int getbooksBorrowed()
    {
        return booksBorrowed;
    }

    bool getBookReserved()
    {
        return booksReserved;
    }

    User(string name, int number, int passkey) :
        userName(name),
        userNumber(number),
        booksBorrowed(0),
        booksOverDue(0),
        booksReserved(0),
        userPasskey(passkey) {
    }

    bool checkPasskey(int input)
    {
        return input == userPasskey;
    }


private:
    int userPasskey;
    int booksOverDue;


};
class Librarian : public User {
public:



    Librarian(string name, int number, int Passkey)
        : User(name, number, Passkey)
    {

    }





};
class Admin : public Librarian {
public:

  

    Admin(string name, int number, int Passkey)
        :Librarian(name, number, Passkey) {
    }


};

User* findUserName(const string& user);
Librarian* findLibrarianName(const string& user);
Admin* findAdminName(const string& user);

class Library
{
public: vector <User> Users;
      vector <Book> Books;
      vector <Librarian> Librarians;
      vector <Admin> Admins;

      void addUser(User User) {
          Users.push_back(User);
      }
      void addBook(Book Book) {
          Books.push_back(Book);
      }
      void addLibrarian(Librarian Librarian) {
          Librarians.push_back(Librarian);
      }
      void addAdmin(Admin Admin) {
          Admins.push_back(Admin);
      }
};
Library library;

void loginMenu() {

    int passkey = 0;
    string yesNo;

    cout << "Do you have an account?" << endl;
    cout << "Yes or No? " << endl;
    cin >> yesNo;
    if (yesNo == "No" || yesNo == "no" || yesNo == "N" || yesNo == "n" || yesNo == "NO")
    {
        cout << "Please Create an account. " << endl;
        addUser();
        return;
    }

    if (yesNo == "Yes" || yesNo == "yes" || yesNo == "Y" || yesNo == "y" || yesNo == "YES")
    {
        typeMenu();
        
    }
    else
    {
        cout << "Invalid Input, Please try again!" << endl;
        loginMenu();
        return;
    }

}
void typeMenu()
{
    int ans;
    cout << "Which type of account do you have? " << endl;
    cout << "Type One of the following numbers: " << endl;
    cout << "1: User" << endl;
    cout << "2: Librarian" << endl;
    cout << "3: Admin" << endl;
    cout << "4: Back to Main Page" << endl;

    if (!(cin >> ans)) {
        cout << "Invalid Input" << endl;
        cin.clear();
    }

    switch (ans)
    {
    case 1:
    {
        usernameLogin();
        break;
    }

    case 2:
    {
        LibrarianLoginMenu();
        break;
    }
    case 3:
    {
        AdminLoginMenu();
        break;
    }
    case 4:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~LOGGING OUT!~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        loginMenu();
    }

    default:
    {
        cout << "INVALID CHOICE! PLEASE INPUT BETWEEN 1 AND 4! " << endl;

    }

    }

}
void LibrarianLoginMenu()
{

    string passname;
    int passkey;

    do {

        cout << "What is the Users Name? " << endl;
        cout << "(Type 'Back' for Main Menu)" << endl;
        cin >> passname;


        if (passname == "Back" || passname == "back") {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~RETURNING MAIN MENU ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
            return;
        }

        Librarian* user = findLibrarianName(passname);
        if (user == nullptr) {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ USER NAME INVALID ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
            continue;
        }
        cout << "Enter passkey: " << endl;
        cin >> passkey;

        if (user->checkPasskey(passkey)) {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~USER NAME CORRECT AND PASSKEY ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
            LibrarianMainMenu(user);
            return;
        }
        else {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ NAME INCORRECT AND PASSKEY ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        }

    } while (true);


}
void AdminLoginMenu()
{

    string passname;
    int passkey;

    do {

        cout << "What is the Users Name? " << endl;
        cout << "(Type 'Back' for Main Menu)" << endl;
        cin >> passname;


        if (passname == "Back" || passname == "back") {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~RETURNING MAIN MENU ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
            return;
        }

        Admin* user = findAdminName(passname);
        if (user == nullptr) {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ USER NAME INVALID ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
            continue;
        }
        cout << "Enter passkey: " << endl;
        cin >> passkey;

        if (user->checkPasskey(passkey)) {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~USER NAME CORRECT AND PASSKEY ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
            AdminMainMenu(user);
            return;
        }
        else {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ NAME INCORRECT AND PASSKEY ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        }

    } while (true);

}
/*void librarianPasskeyLogin()
{
    int passkey;

    while (true) {
        cout << "Enter librarian passkey: ";
        cin >> passkey;

        for (auto& librarian : library.Librarians) {
            if (librarian.checkPasskey(passkey)) {
                cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~LIBRARIAN ACCESS GRANTED~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
                LibrarianMainMenu();
                return;
            }
        }

        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~INVALID PASSKEY~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    }
}

void adminPasskeyLogin()
{
    int passkey;
    cout << "Enter admin passkey: ";
    cin >> passkey;

    for (auto& admin : library.Admins) {
        if (admin.checkPasskey(passkey)) {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ADMIN ACCESS GRANTED~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
            AdminMainMenu();
            return;
        }
    }

    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~INVALID PASSKEY~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
}*/
void addUser()
{
    string tempUserName;
    int tempUserPasskey = 0;
    int tempUserNumber = 0;
    bool tempReserved = false;


    cout << "What is the users name? " << endl;
    if (!(cin >> tempUserName))
    {
        cout << "invalid input! Please try again." << endl;
        return;
    }
    else
    {

    }



    cout << "Please assign a user Numeber!" << endl;
    cout << "(less than 100000000)" << endl;
    cin >> tempUserNumber;
    if (tempUserNumber >= 100000000 || tempUserNumber <= 0) {
        cout << "invalid input! Please try again." << endl;

    }
    else
    {

    }



    cout << "Please assign a user Passkey!" << endl;
    cout << "(less than 100000000)" << endl;
    cin >> tempUserPasskey;
    if (tempUserPasskey >= 100000000 || tempUserPasskey <= 0) {
        cout << "invalid input! Please try again." << endl;
        return;
    }
    else
    {

    }

    User newUser(tempUserName, tempUserNumber, tempUserPasskey);
    library.addUser(newUser);
    cout << "USER ADDED SUCCESFULLY" << endl;
    return;

}
void addLibrarian() 
{
    string tempLibrarianName;
    int tempLibrarianPasskey = 0;
    int tempLibrarianNumber = 0;
    bool tempReserved = false;
    cout << "What is the Librarians name? " << endl;
    if (!(cin >> tempLibrarianName))
    {
        cout << "invalid input! Please try again." << endl;
        return;
    }
    else
    {

    }
    cout << "Please assign a Librarian Numeber!" << endl;
    cout << "(less than 100000000)" << endl;
    cin >> tempLibrarianNumber;
    if (tempLibrarianNumber >= 100000000 || tempLibrarianNumber <= 0) {
        cout << "invalid input! Please try again." << endl;

    }
    else
    {

    }
    cout << "Please assign a Librarian Passkey!" << endl;
    cout << "(less than 100000000)" << endl;
    cin >> tempLibrarianPasskey;
    if (tempLibrarianPasskey >= 100000000 || tempLibrarianPasskey <= 0) {
        cout << "invalid input! Please try again." << endl;
        return;
    }
    else
    {

    }

    Librarian newLibrarian(tempLibrarianName, tempLibrarianNumber, tempLibrarianPasskey);
    library.addLibrarian(newLibrarian);
    cout << "USER ADDED SUCCESFULLY" << endl;
    return;
}
void addAdmin() 
{
    string tempAdminName;
    int tempAdminPasskey = 0;
    int tempAdminNumber = 0;
    bool tempReserved = false;
    cout << "What is the Admins name? " << endl;
    if (!(cin >> tempAdminName))
    {
        cout << "invalid input! Please try again." << endl;
        return;
    }
    else
    {

    }
    cout << "Please assign an Admin Numeber!" << endl;
    cout << "(less than 100000000)" << endl;
    cin >> tempAdminNumber;
    if (tempAdminNumber >= 100000000 || tempAdminNumber <= 0) {
        cout << "invalid input! Please try again." << endl;

    }
    else
    {

    }
    cout << "Please assign an Admin Passkey!" << endl;
    cout << "(less than 100000000)" << endl;
    cin >> tempAdminPasskey;
    if (tempAdminPasskey >= 100000000 || tempAdminPasskey <= 0) {
        cout << "invalid input! Please try again." << endl;
        return;
    }
    else
    {

    }

    Admin newAdmin(tempAdminName, tempAdminNumber, tempAdminPasskey);
    library.addAdmin(newAdmin);
    cout << "USER ADDED SUCCESFULLY" << endl;
    return;
}
void usernameLogin() {
    string passname;
    int passkey;

    do {

        cout << "What is the Users Name? " << endl;
        cout << "(Type 'Back' for Main Menu)" << endl;
        cin >> passname;


        if (passname == "Back" || passname == "back") {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~RETURNING MAIN MENU ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
            return;
        }

        User* user = findUserName(passname);
        if (user == nullptr) {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ USER NAME INVALID ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
            continue;
        }
        cout << "Enter passkey: " << endl;
        cin >> passkey;

        if (user->checkPasskey(passkey)) {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~USER NAME CORRECT AND PASSKEY ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
            UserMainMenu(user);
            return;
        }
        else {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ NAME INCORRECT AND PASSKEY ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        }

    } while (true);

}
User createUser(string userName, int userNumber, int userPasskey)
{
    User newUser(userName, userNumber, userPasskey);
    return newUser;

}
Book createBook(int bookID, string bookName, string bookAuthor,bool borrowed, bool reserved) {//LIBRARIAN AND ADMIN


    Book newBook(bookID, bookName, bookAuthor, borrowed, reserved);
    return newBook;
}
void addBook() { //LIBRARIAN AND ADMIN

    bool correctDetails;
    int tempBookID = 0;
    string tempBookName;
    string tempBookAuthor;

    

    cout << "What is the books ID Number? " << endl;
    cin >> tempBookID;
    if (tempBookID >= 100000000 || tempBookID <= 0) {
        cout << "invalid input! Please try again." << endl;
        return;
    }
    else {

    }

    cout << "What is your books name? " << endl;

    if (!(cin >> tempBookName))
    {
        cout << "invalid input! Please try again." << endl;
        return;
    }
    else {

    }

    cout << "Who is your books Author?  " << endl;
    if (!(cin >> tempBookAuthor))
    {
        cout << "invalid input! Please try again." << endl;
        return;
    }
    else {

    }

    cout << "Your books ID is: " << tempBookID << endl;
    cout << "Your books title is: " << tempBookName << endl;
    cout << "Your books Author is: " << tempBookAuthor << endl;
    cout << endl;

    cout << "Are these detials correct? true or false " << endl;
    cin >> correctDetails;
    if (!correctDetails) {
        cout << "Please try again. " << endl;
        return;
    }

    Book newBook(tempBookID, tempBookName, tempBookAuthor, false, false);
    library.addBook(newBook);
    cout << "ADDED BOOK SUCCESFULLY" << endl;
    return;






}
void removeBook() //LIBRARIAN AND ADMIN
{/*
    bool correctDetails;
    string tempName;
    int tempID;
    string yesNo;

    cout << "Which Book Would you like to get rid of?" << endl;
    cin >> tempName;



    if (tempName == library.Books.getbookName(name)) {
        cout << "Whats the Books ID?" << endl;
        cin >> tempID;
        if (tempID == library.Books.getbookID(bookID)) 
        {
            erase()
        }
    }
   

    cout << "Whats the Books ID?" << endl;
    cin >> tempID;

    //compare tempID to User Library


    cout << "Has someone got this book borrowed?" << endl;
    cout << "Yes or No? " << endl;
    cin >> yesNo;
  
    if (yesNo == "Yes" || yesNo == "yes" || yesNo == "Y" || yesNo == "y" || yesNo == "YES")
    {
        cout << "Wait until book is returned" << endl;
        return;
    }
    else
    {
        
    }

    cout << "Are these details correct? " << endl;
    cout << "Book Name: " << tempName << endl;
    cout << "Book ID: " << tempID << endl;
    cin >> correctDetails;
    if (!correctDetails) {
        cout << "Please try again. " << endl;
        return;
    }
    cout << "Book succesfully removed!" << endl;*/
}
void BrowseBooksMenu(User* user)  //all
{
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~BOOKS MENU~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    for (auto& book : library.Books)
    {

        cout << "Book Name: " << book.getbookName() << endl;
        cout << "Book Id: " << book.getbookID() << endl;
        cout << "Book Author: " << book.getbookAuthor() << endl;
        cout << "Book Borrowed: ";
        if (book.getbookBorrowed() == true)
        {
            cout << "Yes" << endl;

        }
        else
        {
            cout << "No" << endl;
        }
        cout << "Book Reserved: ";
        if (book.getbookReserved() == true)
        {
            cout << "Yes" << endl;
        }
        else
        {
            cout << "No" << endl;
        }
        cout << endl;
        cout << endl;

    }
    cout << "Type Book ID to borrow book" << endl;
    cout << "(Type 0 to Go back)" << endl;
    int choice;
    cin >> choice;
    if (choice == 0) 
    {
        return;
    }
    
    for (auto& book : library.Books)
    {
        if (book.getbookBorrowed() == true) {
            cout << "Sorry, Book is already borroed" << endl;
        }

        if (book.getbookID() == choice){
            book.borrowed = true;
            user->ownBook.push_back(&book);
            user->booksBorrowed += 1;
            cout << "Book borrowed successfully!" << endl;
            return;
        }
    }
    
}
void ViewOwnBooksMenu(User* user)  //all
{
    string word;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~OWN BOOKS ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "(type to go back)" << endl;
    cout << " " << endl;
    cout << " " << endl;
    for (auto& ownBooks : library.Books) {
        cout << ownBooks.getbookName() << endl;
        cout << ownBooks.getbookAuthor() << endl;
        cout << ownBooks.getbookID() << endl;
        cout << " " << endl;
    }
    cin >> word;
    if (!(cin >> word)) {
        cout << "Invalid Input" << endl;
        cin.clear();
        return;
    }
    return;

}
void ChangeBooksMenu() //LIBRARIAN AND ADMIN
{
    int option;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~CHANGE BOOKS MENU ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "Pick an Option" << endl;
    cout << "1. Add Book to system" << endl;
    cout << "2. Remove Book from system" << endl;
    cout << "3. Go back" << endl;
    cin >> option;
    switch (option) {

    case  1:
    {
        addBook();
        break;
    }
    case 2: 
    {
        removeBook();
        break;
    }

    case 3:
    {
        return;
        break;
    }

    default:
    {
        cout << "INVALID CHOICE! PLEASE INPUT BETWEEN 1 AND 3! " << endl;

    }

    }
}
void AddAccountMenu() 
{
    int option;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ADD ACCOUNTS MENU~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;

    cout << "Pick an option for an account to add." << endl;
    cout << "1: User" << endl;
    cout << "2: Librarian" << endl;
    cout << "3: Admin" << endl;
    cout << "1: Go Back" << endl;
    cin >> option;
    switch (option) {

    case  1:
    {
        addUser();
        break;
    }
    case 2:
    {
        addLibrarian();
        break;
    }

    case 3:
    {
        addAdmin();
        break;
    }
    case 4: 
    {
        return;
        break;
    }

    default:
    {
        cout << "INVALID CHOICE! PLEASE INPUT BETWEEN 1 AND 4! " << endl;

    }

    }
}
void removeAccount() 
{

}
void ReservationsMenu() //LIBRARIAN AND ADMIN
{

}
void ViewReport() //LIBRARIAN AND ADMIN
{

}
void ManageUserAccountsMenu()  // ADMIN
{
   
    int option;

    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~MANAGE USER ACCOUNTS MENU~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "Pick an Option" << endl;
    cout << "1. Add Book to system" << endl;
    cout << "2. Remove Book from system" << endl;
    cout << "3. Go back" << endl;
    cin >> option;
    switch (option) {

    case  1:
    {
        AddAccountMenu();
        break;
    }
    case 2:
    {
        removeAccount();
        break;
    }

    case 3:
    {
        return;
        break;
    }

    default:
    {
        cout << "INVALID CHOICE! PLEASE INPUT BETWEEN 1 AND 3! " << endl;

    }

    }
}
void ChangeSystemLimitationsMenu()  // ADMIN
{

}
void removeUser()
{
    bool correctDetails;
    string tempUser;
    int tempID;

    cout << "Which User Would you like to get rid of?" << endl;
    cin >> tempUser;

    //compare tempUser to User Library


    cout << "Whats the Users ID?" << endl;
    cin >> tempID;

    //compare tempID to User Library


    cout << "Are these details correct? " << endl;
    cout << "User Name: " << tempUser << endl;
    cout << "User ID: " << tempID << endl;
    cin >> correctDetails;
    if (!correctDetails) {
        cout << "Please try again. " << endl;
        return;
    }
    cout <<  "User Succesfully removed! " << endl;
    return;

}
void UserMainMenu(User* user)
{
    int menuInput;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "                                    MAIN MENU                                       " << endl;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "Type Number For Option Below" << endl;
    cout << "1: Browse Books" << endl;
    cout << "2: Manage Own Books" << endl;
    cout << "3: Log Out" << endl;
    if (!(cin >> menuInput)) {
        cout << "Invalid Input" << endl;
        cin.clear();
        return;
    }

    switch (menuInput)
    {
    case 1:
    {
        BrowseBooksMenu(user);
        break;
    }

    case 2:
    {
        ViewOwnBooksMenu(user);
        break;
    }

    case 3:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~LOGGING OUT!~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        loginMenu();
        break;
    }

    default:
    {
        cout << "INVALID CHOICE! PLEASE INPUT BETWEEN 1 AND 3! " << endl;
        return;
    }

    }
}
void LibrarianMainMenu(Librarian* librarain)
{
    int menuInput;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "                             LIBRARIAN MAIN MENU                                    " << endl;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "Type Number For Option Below" << endl;
    cout << "1: Browse Books" << endl;
    cout << "2: Manage Own Books" << endl;
    cout << "3: Change Books On System" << endl;
    cout << "4: Handle Reservation Requests" << endl;
    cout << "5: View Report" << endl;
    cout << "6: Log Out" << endl;
    if (!(cin >> menuInput)) {
        cout << "Invalid Input" << endl;
        cin.clear();
        return;
    }

    switch (menuInput)
    {
    case 1:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~BROWSE BOOKS MENU~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        BrowseBooksMenu(librarain);
        break;
    }

    case 2:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~VIEW OWN BOOKS MENU~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        ViewOwnBooksMenu(librarain);
        break;
    }


    case 3:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~CHANGE BOOKS ON SYSTEM~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        ChangeBooksMenu();
        break;
    }
    case 4:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~RESERVASTIONS MENU~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        ReservationsMenu();
        break;
    }
    case 5:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~REPORT~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        ViewReport();
        break;
    }
    case 6:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~LOGGING OUT!~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        loginMenu();
        break;
    }

    default:
    {
        cout << "INVALID CHOICE! PLEASE INPUT BETWEEN 1 AND 6! " << endl;
        return;
    }

    }
}
void AdminMainMenu(Admin* admin)
{
    int menuInput;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "                             ADMIN MAIN MENU                                    " << endl;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
    cout << "Type Number For Option Below" << endl;
    cout << "1: Browse Books" << endl;
    cout << "2: Manage Own Books" << endl;
    cout << "3: Change Books On System" << endl;
    cout << "4: Handle Reservation Requests" << endl;
    cout << "5: View Report" << endl;
    cout << "6: Manage User Accounts" << endl;
    cout << "7: Manage System Limitations" << endl;
    cout << "8: Log Out" << endl;
    if (!(cin >> menuInput))
    {
        cout << "Invalid Input" << endl;
        cin.clear();
        return;
    }

    switch (menuInput)
    {
    case 1:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~BROWSE BOOKS MENU~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        BrowseBooksMenu(admin);
        break;
    }

    case 2:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~VIEW OWN BOOKS MENU~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        ViewOwnBooksMenu(admin);
        break;
    }


    case 3:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~CHANGE BOOKS ON SYSTEM~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        ChangeBooksMenu();
        break;
    }
    case 4:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~RESERVASTIONS MENU~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        ReservationsMenu();
        break;
    }
    case 5:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~REPORT~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        ViewReport();
        break;
    }
    case 6:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~MANAGE USER ACCOUNTS~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        ManageUserAccountsMenu();
        break;
    }
    case 7:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~CHANGE SYSTEM LIMITATIONS~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        ChangeSystemLimitationsMenu();
        break;
    }
    case 8:
    {
        cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~LOGGING OUT!~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        loginMenu();
        break;
    }

    default:
    {
        cout << "INVALID CHOICE! PLEASE INPUT BETWEEN 1 AND 3! " << endl;
        return;
    }

    }
}

User* findUserName(const string& name) { // p[ointer
    for (auto& user : library.Users) { //search user
        if (user.getUserName() == name) {//checks stored
            return &user; //m emory address of user
        }
    }
    return nullptr; //shows no user was found
}
Librarian* findLibrarianName(const string& name) { // pointer
    for (auto& user : library.Librarians) { // search for ser
        if (user.getUserName() == name) {  //checks stored
            return &user; // memory address of user
        }
    }
    return nullptr; //shows no user was found

}
Admin* findAdminName(const string& name) {
    for (auto& admin : library.Admins) {
        if (admin.getUserName() == name)
            return &admin;
    }
    return nullptr;
}

int main() {



    library.addUser(User("Ollie", 1, 1234));
    library.addUser(User("Cam", 2, 2345));
    library.addUser(User("Ethan", 3, 3456));

    library.addBook(Book(1, "HandMaidsTale", "Margaret Atwood", false, false));
    library.addBook(Book(2, "Diary of a wimpy kid: Rodrick Rules", "Jeff Kinney", false, false));
    library.addBook(Book(3, "Diary of a wimpy kid:Dog days", "Jeff Kinney", false, false));
    library.addBook(Book(4, "The Bible", "Jesus", false, false));

    library.addLibrarian(Librarian("Peter", 0001, 1234));

    library.addAdmin(Admin("Guy", 0001, 3456));

    loginMenu();
    return 0;
}