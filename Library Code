#include <iostream>
#include <string>
using namespace std;
#include <vector>



class Book {


public:
    string bookName;
    int bookID;
    string bookAuthor;
    bool borrowed;


    void setbookID(int amount)
    {
        bookID = amount;
    }

    void setbookName(string value)
    {
        bookName = value;
    }

    void setbookAuthor(string value)
    {
        bookAuthor = value;
    }

    int getbookID()
    {
        return bookID;
    }

    string getbookName()
    {
        return bookName;
    }

    string getbookAuthor()
    {
        return bookAuthor;
    }


    Book(int ID, string name, string author, bool isBorrowed) {
        bookName = name;
        bookID = ID;
        bookAuthor = author;
        borrowed = isBorrowed;
    };
};
   
//vector<book> library;

class User {//ORGNAISE
public:
    string userName;
    int userNumber;
    int booksBorrowed;
    bool booksReserved;



    void setUserNumber(int amount)
    {
        userNumber = amount;
    }

    void setUserName(string value)
    {
        userName = value;
    }

    void setBooksBorrowed(int value)
    {
        booksBorrowed = value;
    }

    void setBooksReserved(bool value)
    {
        booksReserved = value;
    }


    int getUserNumber()
    {
        return userNumber;
    }

    string getUserName()
    {
        return userName;
    }

    int getbooksBorrowed()
    {
        return booksBorrowed;
    }

    bool getBookReserved() 
    {
        return booksReserved;
    }







    User(string name, int number, int borrowed, bool reserved) {
        userName = name;
        userNumber = number;
        booksBorrowed = borrowed;
        booksReserved = reserved;
    }

private:
    int userPasskey;
    int booksOverDue;


};

User createUser(string userName, int userNumber, int userPasskey, bool reserved) 
{
    
   
    //get user name
    //assign usernumber
    //get new passkey
    // //get confimation
    //store value as a user in library
    User newUser(userName, userNumber, userPasskey, reserved);
    return newUser;

}

void addUser() 
{
    string tempUserName;
    int tempUserPasskey = 0;
    int tempUserNumber = 0;
    bool tempReserved;


    cout << "What is the users name? " << endl;
    if (!(cin >> tempUserName))
    {
        cout << "invalid input! Please try again." << endl;
        return;
    }
    else
    {
        cin >> tempUserName;
    }
    
  

    cout << "Please assign a user Numeber!" << endl;
    if (tempUserNumber >= 100000000 || tempUserNumber <= 0) {
        cout << "invalid input! Please try again." << endl;
        return;
    }
    else  
    {
        cin >> tempUserNumber;
    }



    cout << "Please assign a user Passkey!" << endl;
    if (tempUserPasskey >= 100000000 || tempUserPasskey <= 0) {
        cout << "invalid input! Please try again." << endl;
        return;
    }
    else
    {
        cin >> tempUserPasskey;
    }
    


    //User newUser = createUser(tempUserName, tempUserNumber, tempUserPasskey, tempReserved);
    //library.push_back(newUser);
}

    
Book createBook(int bookID, string bookName, string bookAuthor, bool reserved) {
     

        Book newBook(bookID, bookName, bookAuthor, reserved);
        return newBook;
}


void addBook(int bookId, string bookName, string bookAuthor, bool reserved) {

        bool correctDetails;
        int tempBookID = 0;
        string tempBookName;
        string tempBookAuthor;

        reserved = false;

        cout << "What is the books ID Number? " << endl;
        if (tempBookID >= 100000000 || tempBookID <= 0) {
            cout << "invalid input! Please try again." << endl;
            return;
        }
        else {
            cin >> tempBookID;
        }

        cout << "What is your books name? " << endl;

        if (!(cin >> tempBookName)) 
        {
            cout << "invalid input! Please try again." << endl;
            return;
        }
        else {
            cin >> tempBookName;
        }

        cout << "Who is your books Author?  " << endl;
        if (!(cin >> tempBookAuthor)) 
        {
            cout << "invalid input! Please try again." << endl;
            return;
        }
        else {
            cin >> tempBookAuthor;
        }

        cout << "Your books ID is: " << tempBookID << endl;
        cout << "Your books title is: " << tempBookName << endl;
        cout << "Your books Author is: " << tempBookAuthor << endl;
        cout << endl;

        cout << "Are these detials correct? true or false " << endl;
        cin >> correctDetails;
        if (!correctDetails) {
            cout << "Please try again. " << endl;
            return;
        }
       // book newBook = createBook(tempBookID, tempBookName, tempBookAuthor, false);
        //library.push_back(newBook);
        cout << "Added book succcesfully" << endl;
        
        

        


}

void removeBook(int bookId, string bookName, string bookAuthor, bool Borrowed) {
        // get book ID
    //display book details
    //confirmation prompt
    //
}



void loginMenu() {

    int passkey;
    string yesNo;

    cout << "Do you have an account?" << endl;
    cout << "Yes or No? " << endl;
    cin >> yesNo;
    if (yesNo == "No" || yesNo == "no")
    {
        cout << "Please Create an account. " << endl;
        addUser();
        return;
    }
    if (yesNo != "Yes" && yesNo != "yes")
    {
        cout << "Invalid Input, Please try again!" << endl;
        loginMenu();
        return;
    }


    do {

        cout << "What is the passkey? " << endl;
        cin >> passkey;
        if (passkey < 0 || passkey >= 10000)
        {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ PASS KEY GUESS INVALID ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        }
        else if (passkey == 1234)
        {
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ CONGRATULATIONS, ACCESS GRANTED ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        }
        else
            cout << "~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ PASS KEY INCORRECT ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" << endl;
        return;

    } while (passkey != 1234);
    // ADD CHANGE PASSKEY
}



class Library
{
public: vector <User> Users;
      vector <Book> Books;
      void addUser(User User) {
          Users.push_back(User);
      }
      void addBook(Book Book) {
          Books.push_back(Book);
      }
};

int main() {
    

    Book HandMaidsTale(1, "HandMaidsTale", "Margaret Atwood", false);
    Book DiaryOfAWimpyKidRodrickRules(2, "Diary of a wimpy kid: Rodrick Rules", "Jeff Kinney", false);
    Book DiaryOfAWimpyKidDogDays(3, "Diary of a wimpy kid:Dog days", "Jeff Kinney", false);

    User Ollie("Ollie", 0001, 1234, false);
    User Cam("Cam", 0002, 1234, false);
    User Ethan("Ethan", 0003, 1234, false);




    loginMenu();







}
